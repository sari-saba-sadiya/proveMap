<!DOCTYPE html>
<html lang="en">
<!--
Color palette (summer wave)
b2301a
cb351d
f4723e
fdaf6f
fcddaf
73aea8
008c99
207793
19386f
011f51
-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <title>Provemap</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    

    <!-- Custom styles for this template -->
    <link href="css/custom.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/leaflet_awesome_number_markers.css" />
    <!--- map stuff -->
		<meta http-equiv="imagetoolbar" content="no">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css">
		<link rel="stylesheet" href="https://cdn.rawgit.com/ardhi/Leaflet.MousePosition/master/src/L.Control.MousePosition.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js" type="text/javascript"></script>
		<script src="https://cdn.rawgit.com/ardhi/Leaflet.MousePosition/master/src/L.Control.MousePosition.js" type="text/javascript"></script>
		<script src="./js/leaflet_awesome_number_markers.js"></script>
	  <style type="text/css">
		#basemapslidercontainer {
		  position: absolute;
		  top: 50px;
		  right: 10px;
		  z-index: 1000;
		}

		#basemapslider{
		  font-size:62.5%;
		  margin: 14px;
		  height: 125px;
		  width:7px;
		}

		#map{
		  position: absolute;
		  top: 0;
		  bottom: 0;
		  width: 99%;
		  height:50%
		}
		.dot {
		  margin-left:-3px;
		  margin-top:-5px;
		  height: 16px;
		  width: 16px;
		  border-radius: 50%;
		  display: inline-block;
		}
	  </style>
	 <!-- Add jQuery -->
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	  <script>
		$(document).ready(function () {

			$('#basemapslider').mousedown(function(){
			  map.dragging.disable();
			})

			$('#basemapslider').mouseup(function(){
			  map.dragging.enable();
			})

		  var map = L.map('map').setView([40, -90], 4);
		  var markersLayer = new L.FeatureGroup();
		  var baselayer = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		  }).addTo(map);

		  $.getJSON("./provenance/origin.geojson",function(data){
			  L.geoJson(data,{
				  onEachFeature: function onEachFeature(feature,layer){
					layer.on('click', function (e) {
						document.getElementById("feature_info").innerHTML = '<div class="row"><div class="col-md-4"><img src="'+feature.properties.image_url+'" width="250" onerror="this.style.display=\'none\'"/></div>'+'<div class="col-md-4"><font size="+2">'+feature.properties.name+'</font>'+'<br/><b>' +'Made: ' + '</b>' + feature.properties.yearmade +'<br/>' +'<b>By:</b> ' + feature.properties.by +'<br/></div></div>';
						var featureClr = feature.properties.markercolor;
						var featureGeo = 'mfa_'+feature.properties.index+'.geojson';
						// You can make your ajax call declaration here
						console.log(featureGeo);
						markersLayer.clearLayers();
						$.getJSON("./provenance/"+featureGeo,function(data){
							L.geoJson(data,{
								pointToLayer: function(feature,latlng){
									var marker = L.marker(latlng,{
										icon: new L.AwesomeNumberMarkers({
											number: feature.id, 
											markerColor: '#f4723e'
										})
									});
									marker.bindPopup('Hi');
									return marker;
								}
							}).addTo(markersLayer);
						})
						map.addLayer(markersLayer);
					})
			      },
				  pointToLayer: function(feature,latlng){
					var thisIcon = L.divIcon({
						html: '<span class="dot" style="background-color:#'+feature.properties.markercolor+'"></span>'
					});
					var marker = L.marker(latlng,{icon: thisIcon});
					//marker.bindPopup('<font size="+2">'+feature.properties.name+'</font>'+'<br/><b>' +'Made: ' + '</b>' + feature.properties.yearmade +'<br/>' +'<b>By:</b> ' + feature.properties.by +'<br/>'+'<img src="'+feature.properties.image_url+'" width="250" onerror="this.style.display=\'none\'"/>');
					//document.getElementById("feature_info").innerHTML = '<div class="row"><div class="col-md-4"><img src="'+feature.properties.image_url+'" width="250" onerror="this.style.display=\'none\'"/></div>'+'<div class="col-md-4"><font size="+2">'+feature.properties.name+'</font>'+'<br/><b>' +'Made: ' + '</b>' + feature.properties.yearmade +'<br/>' +'<b>By:</b> ' + feature.properties.by +'<br/></div></div>';
					return marker;
				  }
			  }).addTo(map);
		   });
		  L.control.layers({'Basemap':baselayer}).addTo(map);
		})
	  </script>
	  <!-- Favicon-->
	  <link rel="icon" type="image/x-icon" href="assets/provemap.ico" />
	<!------------------------------->
  </head>

  <body>
    <!-- header -->
    <header>
      <!-- Fixed navbar -->
      <nav class="navbar navbar-expand-md fixed-top bg-dark bg-udc">
        <div class="container">
		  <!--
          <a class="navbar-brand" href="https://www.udc.gal/">
            <img src="img/udc.png" width="200" height="30" alt="UDC">
          </a>
          -->
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <i class="fas fa-bars"></i></button>
    		  <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
			  <li class="nav-item">
				<!--
                <a class="nav-link" href="#Academic">Publications</a>
                -->
                <button type="button" class="navbutton" onclick="onClickFunction(document.getElementById('Academic').id)">
                <a class="nav-link">Map</a>
                </button>
              </li>
              <li class="nav-item">
				<!--
                <a class="nav-link" href="#projects">Projects<span class="sr-only">(current)</span></a>
                -->
                <button type="button" class="navbutton" onclick="onClickFunction(document.getElementById('projects').id)">
                <a class="nav-link">About</a>
                </button>
              </li>
              <li class="nav-item">
				<!--
				<a class="nav-link" href="#education">Education, Experience, and Awards</a>
				-->
			    <button type="button" class="navbutton" onclick="onClickFunction(document.getElementById('education').id)">
                <a class="nav-link">Contact</a>
                </button>               
            </ul>
          </div>
          <!--
          <a class="navbar-brand" href="http://gac.udc.es/inicio.html">
    			    <img src="img/gacw.png" width="162" height="30" alt="GAC">
          </a>
          -->
        </div>
    	</nav>
    	<script>
		function onClickFunction(ID) {
		  var el_list = ["Academic", "projects", "education"];
		  el_list.forEach(el => {
			document.getElementById(el).style.display = "none";
		  });
		  document.getElementById(ID).style.display = "block";
		}
		</script>
    </header>

    <!-- Begin page content -->
    <main role="main" class="container">
    <div class="row">
      <div class="col-2 mx-auto d-block">
        <div class="row mt-4 mx-auto d-block text-center">
          <img src="assets/provemap.png" class="img-fluid mb-3" alt="Profile picture">
          <p class="lead">Mapping Provenance</p>
          <!--
          <p class="font-weight-light">Depertment of Engineering<br> <a
href="https://www.cse.msu.edu/"> Computer Science </a><br> Department of Psychology <br> <a
href="https://psychology.msu.edu/programs/cognition-and-cognitive-neuroscience/index.html" >Cognition & Cognitive Neuroscience</a></p>
		-->
        </div>
        <hr>
        <div class="row mx-auto d-block">
		<p class="lead text-center ">Contact us at</p>
        <p class="lead text-center "><a href="mailto:sadiyasa@msu.edu"><i class="far fa-envelope"></i></a> sadiyasa [at] msu.edu</p>
        <ul class="social-icons text-center">
          	<li><a class="scholar" href="https://scholar.google.com/citations?user=pw_84v0AAAAJ" title="Scholar">Scholar</a></li>
          	<li><a class="github" href="https://github.com/sari-saba-sadiya" title="Github">Git</a></li>
          	<li><a class="linkedin" href="https://www.linkedin.com/in/sari-saba-sadiya-a3993365/" title="Linkedin">LinkedIn</a></li>
          	<!--
          	<li><a class="researchgate" href="https://www.researchgate.net/profile/Marcos_Horro_Varela" title="ResearchGate">ResearchGate</a></li>
          	<li><a class="twitter" href="https://twitter.com/markoshorro" title="Twitter">Twitter</a></li>
          	<li><a class="instagram" href="https://www.instagram.com/markoshorro/" title="Instagram">Instagram</a></li>
          	<li><a class="flickr" href="https://www.flickr.com/photos/markos-design/" title="Flickr">Flickr</a></li>
          	-->
        </ul>
        <hr>
      </div>
        <div class="row mx-auto d-block" style="height:500px">
      </div>
      </div>
      <!--- Sari Hello--->
      <div class="col-9">
      <section id="Academic" class="mt-5 h-100">
		   <!---
			<div id="map" class="row mt-5 mx-auto d-block text-center">
				<div id="basemapslidercontainer">
					<div id="basemapslider">
					</div>
				</div>
			</div>
			-->
		  <div class="flex-column" style="height:50%">
			<div id="map" class="row">
				<div id="basemapslidercontainer">
					<div id="basemapslider">
					</div>
				</div>
			</div>
		  </div>
				
		  <div class="flex-column flex-grow-1 overflow-auto">
			<div id="feature_info"></div>
		  </div>  
      </section>      
      
      <!--
      <div class="col-8">
      -->
        <section id="projects" class="mt-5" style="display:none">
          <h3 class="display-5">About</h3><hr>
        </section>
        <section id="education" class="mt-5" style="display:none">
          <h3 class="display-5">Contact</h3><hr>
        </section>
      </div>
    <!--
    </div>
    -->
    </main>

    <footer class="footer">
      <div class="container">
        <span class="text-muted"><img src="img/MSU-Wordmark-Black-80-pxls.gif"> College of Engineering, Michigan State University. </span>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    -->
    <script>window.jQuery || document.write('<script src="js/jquery-slim.min.js"><\/script>')</script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bibtex.js"></script>
  </body>
</html>
